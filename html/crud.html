<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestion de Projets - CRUD</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/style.css">
</head>
<body>
    <header class="app-header">
        <div class="header-content">
            <span class="header-accent">Application de</span>
            <h1>Gestion de Projets</h1>
        </div>
    </header>

    <div class="container">
        <!-- Navigation Tabs -->
        <nav class="tabs">
            <button class="tab active" data-tab="dashboard">Dashboard</button>
            <button class="tab" data-tab="typeprojet">Types Projet</button>
            <button class="tab" data-tab="agent">Agents</button>
            <button class="tab" data-tab="projet">Projets</button>
            <button class="tab" data-tab="travailler">Affectations</button>
        </nav>

        <!-- Status Message -->
        <div id="message" class="message hidden"></div>
        <!-- ==================== DASHBOARD TAB ==================== -->
        <div class="tab-content active" id="tab-dashboard">
            <div class="dashboard-container">
                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card stat-projets">
                        <div class="stat-icon">üìä</div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-total-projets">0</span>
                            <span class="stat-label">Projets</span>
                        </div>
                    </div>
                    <div class="stat-card stat-agents">
                        <div class="stat-icon">üë•</div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-total-agents">0</span>
                            <span class="stat-label">Agents</span>
                        </div>
                    </div>
                    <div class="stat-card stat-budget">
                        <div class="stat-icon">üí∞</div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-total-budget">0</span>
                            <span class="stat-label">Budget Total</span>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="charts-grid">
                    <div class="chart-card">
                        <h3>Projets par Statut</h3>
                        <div class="chart-content" id="chart-status">
                            <div class="chart-bars" id="status-bars"></div>
                            <div class="chart-legend" id="status-legend"></div>
                        </div>
                    </div>
                    <div class="chart-card">
                        <h3>Affectations</h3>
                        <div class="chart-content" id="chart-type">
                            <div class="chart-bars" id="type-bars"></div>
                            <div class="chart-legend" id="type-legend"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- ==================== TYPEPROJET TAB ==================== -->
        <div class="tab-content" id="tab-typeprojet">
            <div class="form-section">
                <h2 id="typeprojet-form-title">Ajouter un Type de Projet</h2>
                <form id="typeprojet-form">
                    <input type="hidden" id="typeprojet-id">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="typeprojet-libelletype">Libell√© *</label>
                            <input type="text" id="typeprojet-libelletype" required>
                        </div>
                        <div class="form-group">
                            <label for="typeprojet-descriptiont">Description *</label>
                            <input type="text" id="typeprojet-descriptiont" required>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button type="submit" id="typeprojet-submit-btn">Ajouter</button>
                        <button type="button" id="typeprojet-cancel-btn" class="btn-cancel hidden">Annuler</button>
                    </div>
                </form>
            </div>

            <div class="table-section">
                <h2>Liste des Types de Projet</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Libell√©</th>
                                <th>Description</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="typeprojet-tbody"></tbody>
                    </table>
                </div>
                <p id="typeprojet-no-data" class="no-data hidden">Aucun type de projet trouv√©.</p>
            </div>
        </div>

        <!-- ==================== AGENT TAB ==================== -->
        <div class="tab-content" id="tab-agent">
            <div class="form-section">
                <h2 id="agent-form-title">Ajouter un Agent</h2>
                <form id="agent-form">
                    <input type="hidden" id="agent-id">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="agent-nom">Nom *</label>
                            <input type="text" id="agent-nom" required>
                        </div>
                        <div class="form-group">
                            <label for="agent-prenom">Pr√©nom *</label>
                            <input type="text" id="agent-prenom" required>
                        </div>
                        <div class="form-group">
                            <label for="agent-fonction">Fonction *</label>
                            <input type="text" id="agent-fonction" required>
                        </div>
                        <div class="form-group">
                            <label for="agent-email">Email *</label>
                            <input type="email" id="agent-email" required>
                        </div>
                        <div class="form-group">
                            <label for="agent-telephone">T√©l√©phone *</label>
                            <input type="number" id="agent-telephone" required>
                        </div>
                        <div class="form-group">
                            <label for="agent-date_embauche">Date d'embauche *</label>
                            <input type="text" id="agent-date_embauche" placeholder="jj/mm/aaaa" pattern="\d{2}/\d{2}/\d{4}" required>
                        </div>
                        <div class="form-group">
                            <label for="agent-salaire">Salaire *</label>
                            <input type="number" id="agent-salaire" required>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button type="submit" id="agent-submit-btn">Ajouter</button>
                        <button type="button" id="agent-cancel-btn" class="btn-cancel hidden">Annuler</button>
                    </div>
                </form>
            </div>

            <div class="table-section">
                <h2>Liste des Agents</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Pr√©nom</th>
                                <th>Fonction</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="agent-tbody"></tbody>
                    </table>
                </div>
                <p id="agent-no-data" class="no-data hidden">Aucun agent trouv√©.</p>
            </div>
        </div>

        <!-- ==================== PROJET TAB ==================== -->
        <div class="tab-content" id="tab-projet">
            <div class="form-section">
                <h2 id="projet-form-title">Ajouter un Projet</h2>
                <form id="projet-form">
                    <input type="hidden" id="projet-id">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="projet-nomp">Nom du Projet *</label>
                            <input type="text" id="projet-nomp" required>
                        </div>
                        <div class="form-group">
                            <label for="projet-description">Description *</label>
                            <input type="text" id="projet-description" required>
                        </div>
                        <div class="form-group">
                            <label for="projet-dated">Date D√©but *</label>
                            <input type="text" id="projet-dated" placeholder="jj/mm/aaaa" pattern="\d{2}/\d{2}/\d{4}" required>
                        </div>
                        <div class="form-group">
                            <label for="projet-datf">Date Fin *</label>
                            <input type="text" id="projet-datf" placeholder="jj/mm/aaaa" pattern="\d{2}/\d{2}/\d{4}" required>
                        </div>
                        <div class="form-group">
                            <label for="projet-budget">Budget *</label>
                            <input type="number" id="projet-budget" required>
                        </div>
                        <div class="form-group">
                            <label for="projet-statut">Statut *</label>
                            <select id="projet-statut" required>
                                <option value="">-- Choisir --</option>
                                <option value="En cours">En cours</option>
                                <option value="Termin√©">Termin√©</option>
                                <option value="En attente">En attente</option>
                                <option value="Annul√©">Annul√©</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="projet-idtype">Type de Projet *</label>
                            <select id="projet-idtype" required>
                                <option value="">-- Choisir --</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button type="submit" id="projet-submit-btn">Ajouter</button>
                        <button type="button" id="projet-cancel-btn" class="btn-cancel hidden">Annuler</button>
                    </div>
                </form>
            </div>

            <div class="table-section">
                <h2>Liste des Projets</h2>
                <div class="table-wrapper">
                    <table id="projet-table">
                        <thead>
                            <tr>
                                <th>Nom</th>
                                <th>Description</th>
                                <th>Date D√©but</th>
                                <th>Date Fin</th>
                                <th>Statut</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="projet-tbody"></tbody>
                    </table>
                </div>
                <p id="projet-no-data" class="no-data hidden">Aucun projet trouv√©.</p>
            </div>
        </div>

        <!-- ==================== TRAVAILLER TAB ==================== -->
        <div class="tab-content" id="tab-travailler">
            <div class="form-section">
                <h2 id="travailler-form-title">Ajouter une Affectation</h2>
                <form id="travailler-form">
                    <input type="hidden" id="travailler-id">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="travailler-ida">Agent *</label>
                            <select id="travailler-ida" required>
                                <option value="">-- Choisir un agent --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="travailler-idp">Projet *</label>
                            <select id="travailler-idp" required>
                                <option value="">-- Choisir un projet --</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="travailler-role">R√¥le *</label>
                            <input type="text" id="travailler-role" required>
                        </div>
                        <div class="form-group">
                            <label for="travailler-dateaff">Date d'affectation *</label>
                            <input type="text" id="travailler-dateaff" placeholder="jj/mm/aaaa" pattern="\d{2}/\d{2}/\d{4}" required>
                        </div>
                    </div>
                    <div class="form-buttons">
                        <button type="submit" id="travailler-submit-btn">Ajouter</button>
                        <button type="button" id="travailler-cancel-btn" class="btn-cancel hidden">Annuler</button>
                    </div>
                </form>
            </div>

            <div class="table-section">
                <h2>Liste des Affectations</h2>
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>Agent</th>
                                <th>Projet</th>
                                <th>R√¥le</th>
                                <th>Date Affectation</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="travailler-tbody"></tbody>
                    </table>
                </div>
                <p id="travailler-no-data" class="no-data hidden">Aucune affectation trouv√©e.</p>
            </div>
        </div>
    </div>

    <!-- Detail Modal -->
    <div id="detail-modal" class="modal-overlay hidden">
        <div class="modal">
            <div class="modal-header">
                <h2 id="modal-title"></h2>
                <button type="button" class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modal-body"></div>
        </div>
    </div>

    <script src="../js/app.js"></script>
</body>
</html>
